# 配置文件说明

```yaml
GLOBAL :
  START : 4 #起始进程数量
  STEP: 4 #每次增加的数量
  STOP: 1000 #最多的数量
  RUNTIME: 10 #每次压测10秒
  TRX : 'rw' #要跑的事务
  DB:
    host: '192.168.101.21'
    port: 3314
    user: 'root'
    password: '123456'
    database: 'db1'
    unix_socket: #可选


TRX :
  - name : 'rw'
    var: #定义变量. 要多少写多少
      - ['v1','int',10,100]  #整型, 取值范围为10-100
      - ['v2','zh',5,20] #中文, 每次取5-20个
      - ['v3','datetime','2023-10-23 0:0:0','2023-11-23 0:0:0'] #时间
      - ['v4','custom',[0x33,0x44],[10,20]] #自定义字符串范围为0x33-0x44 每次取10-20个
      - ['v5','range',1,2] #自增数据, 从1开始, 每次加2
    sql:
      - statement : 'select * from db1.t20231120 where id > %s and id < %s'
        value : ['v1','v5']

```



# 使用方法

跑完之后, 直接放excel就能画图了. 格式我都是排好的

`python benchmysqlByddcw.py benchmysqlByddcw.yaml `

```shell
(venv) 18:11:46 [root@ddcw21 ei]#python benchmysqlByddcw.py benchmysqlByddcw.yaml 
THREADS     	TPS         	QPS         	AVG(ms)     	MAX(ms)     	MIN(ms)     	ERRORS
thr:4       	36.4        	36.4        	111.63      	445.55      	5.99        	0.0
thr:8       	55.1        	55.1        	148.03      	580.64      	9.09        	0.0
thr:12      	70.2        	70.2        	174.66      	1068.0      	9.44        	0.0
thr:16      	83.5        	83.5        	195.75      	1239.99     	9.12        	0.0
thr:20      	99.2        	99.2        	208.99      	1589.91     	7.55        	0.0
thr:24      	109.9       	109.9       	223.73      	1620.99     	9.7         	0.0
thr:28      	124.1       	124.1       	233.66      	1894.94     	10.16       	0.0
thr:32      	135.7       	135.7       	245.55      	2244.32     	10.09       	0.0
thr:36      	146.3       	146.3       	255.07      	2415.95     	10.1        	0.0
thr:40      	159.9       	159.9       	260.44      	2202.76     	10.21       	0.0
thr:44      	170.2       	170.2       	269.08      	2750.93     	10.34       	0.0
thr:48      	173.4       	173.4       	287.38      	2754.95     	10.15       	0.0
thr:52      	186.6       	186.6       	290.58      	2889.91     	9.84        	0.0
thr:56      	197.4       	197.4       	298.55      	2867.88     	9.87        	0.0
thr:60      	200.7       	200.7       	310.25      	3176.94     	9.78        	0.0
thr:64      	213.3       	213.3       	314.4       	3281.09     	10.37       	0.0
thr:68      	218.4       	218.4       	327.91      	3261.63     	9.72        	0.0
thr:72      	229.6       	229.6       	327.67      	3317.91     	9.9         	0.0
thr:76      	235.4       	235.4       	338.66      	4250.89     	9.23        	0.0
thr:80      	251.4       	251.4       	332.74      	3939.9      	8.65        	0.0
thr:84      	255.6       	255.6       	347.03      	3687.14     	9.64        	0.0
thr:88      	263.3       	263.3       	355.38      	4181.91     	10.52       	0.0
thr:92      	271.1       	271.1       	356.1       	4365.43     	10.02       	0.0
thr:96      	279.7       	279.7       	362.82      	4310.94     	11.08       	0.0
thr:100     	282.5       	282.5       	374.75      	4310.08     	9.94        	0.0
thr:104     	288.0       	288.0       	386.77      	4606.89     	7.59        	0.0
thr:108     	297.1       	297.1       	389.26      	4427.95     	9.46        	0.0
thr:112     	298.7       	298.7       	399.78      	4739.43     	10.02       	0.0
thr:116     	309.6       	309.6       	396.83      	4507.91     	10.54       	0.0
thr:120     	325.7       	325.7       	397.91      	4252.76     	10.13       	0.0
thr:124     	323.9       	323.9       	412.12      	5163.56     	10.95       	0.0
thr:128     	329.1       	329.1       	418.33      	5132.95     	9.69        	0.0
thr:132     	329.9       	329.9       	425.78      	4346.81     	10.4        	0.0
thr:136     	347.0       	347.0       	422.25      	5171.42     	11.01       	0.0
thr:140     	342.8       	342.8       	437.23      	4789.8      	11.26       	0.0
thr:144     	351.2       	351.2       	445.23      	5217.43     	11.56       	0.0
thr:148     	361.3       	361.3       	439.84      	4626.86     	7.8         	0.0
thr:152     	364.3       	364.3       	447.74      	4879.89     	12.2        	0.0
thr:156     	379.2       	379.2       	443.39      	5239.34     	9.66        	0.0
thr:160     	377.2       	377.2       	462.22      	4676.77     	10.85       	0.0
thr:164     	383.6       	383.6       	465.2       	4512.97     	9.83        	0.0
thr:168     	391.2       	391.2       	465.86      	4789.07     	10.42       	0.0
thr:172     	391.4       	391.4       	476.43      	4867.28     	9.8         	0.0
thr:176     	397.9       	397.9       	475.87      	4765.14     	10.22       	0.0

```

